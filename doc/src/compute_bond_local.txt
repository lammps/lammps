"LAMMPS WWW Site"_lws - "LAMMPS Documentation"_ld - "LAMMPS Commands"_lc :c

:link(lws,http://lammps.sandia.gov)
:link(ld,Manual.html)
:link(lc,Section_commands.html#comm)

:line

compute bond/local command :h3

[Syntax:]

compute ID group-ID bond/local value1 value2 ... :pre

ID, group-ID are documented in "compute"_compute.html command :ulb,l
bond/local = style name of this compute command :l
one or more values may be appended :l
value = {dist} or {velvib} or {velrot} or {engtrans} or {engvib} or {engrot} or {engpot} or {force} :l
  {dist} = bond distance
  {velvib} = vibrational velocity along the bond length
  {velrot} = tangential speed orthogonal to the bond length, due to the bond's rotational motion
  {engtrans} = bond kinetic energy of translation
  {engvib} = bond kinetic energy of vibration
  {engrot} = bond kinetic energy of rotation
  {engpot} = bond potential energy
  {force} = bond force :pre
:ule

[Examples:]

compute 1 all bond/local engpot
compute 1 all bond/local dist engpot force :pre

[Description:]

Define a computation that calculates properties of individual bond
interactions.  The number of datums generated, aggregated across all
processors, equals the number of bonds in the system, modified
by the group parameter as explained below.

The value {dist} is the length of the bond.

The value {velvib} is the vibrational velocity of the bond, computed
as the relative velocity of the bonded particles projected onto the
bond vector.

The value {velrot} is the tangential speed of the bond's rotational
motion, computed as the absolute value of the relative velocity of the
bonded particles projected onto the plane orthogonal to the bond
vector.

The value {engtrans} is the translational kinetic energy of the bond,
computed as 1/2 (m1 + m2) v^2, where m1 and m2 correspond to the
masses of the bonded particles and v corresponds to the velocity of
the bond's center of mass.

The value {engvib} is the vibrational kinetic energy of the bond,
computed as 1/2 (1 / (1 / m1 + 1 / m2)) v^2, where v corresponds to
the vibrational velocity defined above.

The value {engrot} is the rotational kinetic energy of the bond,
computed as.  1/2 (1 / (1 / m1 + 1 / m2)) v^2, where v corresponds to
the tangential speed of the bond's rotational motion defined above.

The value {engpot} is the potential energy for the bond.

The value {force} is the force acting between the pair of atoms in the
bond.

The local data stored by this command is generated by looping over all
the atoms owned on a processor and their bonds.  A bond will only be
included if both atoms in the bond are in the specified compute group.
Any bonds that have been broken (see the "bond_style"_bond_style.html
command) by setting their bond type to 0 are not included.  Bonds that
have been turned off (see the "fix shake"_fix_shake.html or
"delete_bonds"_delete_bonds.html commands) by setting their bond type
negative are written into the file, but their energy will be 0.0.

Note that as atoms migrate from processor to processor, there will be
no consistent ordering of the entries within the local vector or array
from one timestep to the next.  The only consistency that is
guaranteed is that the ordering on a particular timestep will be the
same for local vectors or arrays generated by other compute commands.
For example, bond output from the "compute
property/local"_compute_property_local.html command can be combined
with data from this command and output by the "dump local"_dump.html
command in a consistent way.

Here is an example of how to do this:

compute 1 all property/local btype batom1 batom2
compute 2 all bond/local dist engpot
dump 1 all local 1000 tmp.dump index c_1\[1\] c_1\[2\] c_1\[3\] c_2\[1\] c_2\[2\] :pre

[Output info:]

This compute calculates a local vector or local array depending on the
number of keywords.  The length of the vector or number of rows in the
array is the number of bonds.  If a single keyword is specified, a
local vector is produced.  If two or more keywords are specified, a
local array is produced where the number of columns = the number of
keywords.  The vector or array can be accessed by any command that
uses local values from a compute as input.  See "this
section"_Section_howto.html#howto_15 for an overview of LAMMPS output
options.

The output for {dist} will be in distance "units"_units.html. The
output for {engtrans}, {engvib}, {engrot}, and {engpot} will be in
energy "units"_units.html. The output for {force} will be in force
"units"_units.html. The output for {velvib} and {velrot} will be in
velocity "units"_units.html.

[Restrictions:] none

[Related commands:]

"dump local"_dump.html, "compute
property/local"_compute_property_local.html

[Default:] none
