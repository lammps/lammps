

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>1.1.9. Utility functions &mdash; LAMMPS documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/tabs.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/lammps.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="_static/lammps.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->

  
  <script src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="1.1.10. Extending the C API" href="Library_add.html" />
    <link rel="prev" title="1.1.8. Configuration information" href="Library_config.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="Manual.html">
          

          
            
            <img src="_static/lammps-logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="lammps_version">Version: <b>24 Dec 2020</b></div>
              <div class="lammps_release">git info: patch 24Dec2020-115-g2b8a0d310</div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Intro.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="Install.html">2. Install LAMMPS</a></li>
<li class="toctree-l1"><a class="reference internal" href="Build.html">3. Build LAMMPS</a></li>
<li class="toctree-l1"><a class="reference internal" href="Run_head.html">4. Run LAMMPS</a></li>
<li class="toctree-l1"><a class="reference internal" href="Commands.html">5. Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="Packages.html">6. Optional packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="Speed.html">7. Accelerate performance</a></li>
<li class="toctree-l1"><a class="reference internal" href="Howto.html">8. Howto discussions</a></li>
<li class="toctree-l1"><a class="reference internal" href="Examples.html">9. Example scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="Tools.html">10. Auxiliary tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="Errors.html">11. Errors</a></li>
</ul>
<p class="caption"><span class="caption-text">Programmer Guide</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="Library.html">1. LAMMPS Library Interfaces</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="Library.html#lammps-c-library-api">1.1. LAMMPS C Library API</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="Library_create.html">1.1.1. Creating or deleting a LAMMPS object</a></li>
<li class="toctree-l3"><a class="reference internal" href="Library_execute.html">1.1.2. Executing commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="Library_properties.html">1.1.3. System properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="Library_atoms.html">1.1.4. Per-atom properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="Library_objects.html">1.1.5. Compute, fixes, variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="Library_scatter.html">1.1.6. Scatter/gather operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="Library_neighbor.html">1.1.7. Neighbor list access</a></li>
<li class="toctree-l3"><a class="reference internal" href="Library_config.html">1.1.8. Configuration information</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">1.1.9. Utility functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="Library_add.html">1.1.10. Extending the C API</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Library.html#lammps-python-apis">1.2. LAMMPS Python APIs</a></li>
<li class="toctree-l2"><a class="reference internal" href="Library.html#lammps-fortran-api">1.3. LAMMPS Fortran API</a></li>
<li class="toctree-l2"><a class="reference internal" href="Library.html#lammps-cplusplus-api">1.4. LAMMPS C++ API</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Python_head.html">2. Use Python with LAMMPS</a></li>
<li class="toctree-l1"><a class="reference internal" href="Modify.html">3. Modifying &amp; extending LAMMPS</a></li>
<li class="toctree-l1"><a class="reference internal" href="Developer.html">4. Information for Developers</a></li>
</ul>
<p class="caption"><span class="caption-text">Index</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="commands_list.html">Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="fixes.html">Fixes</a></li>
<li class="toctree-l1"><a class="reference internal" href="computes.html">Computes</a></li>
<li class="toctree-l1"><a class="reference internal" href="pairs.html">Pair Styles</a></li>
<li class="toctree-l1"><a class="reference internal" href="bonds.html">Bond Styles</a></li>
<li class="toctree-l1"><a class="reference internal" href="angles.html">Angle Styles</a></li>
<li class="toctree-l1"><a class="reference internal" href="dihedrals.html">Dihedral Styles</a></li>
<li class="toctree-l1"><a class="reference internal" href="impropers.html">Improper Styles</a></li>
<li class="toctree-l1"><a class="reference internal" href="fix_modify_atc_commands.html">fix_modify AtC commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="Bibliography.html">Bibliography</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="Manual.html">LAMMPS</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="Manual.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="Library.html"><span class="section-number">1. </span>LAMMPS Library Interfaces</a> &raquo;</li>
        
      <li><span class="section-number">1.1.9. </span>Utility functions</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
          <a href="http://lammps.sandia.gov">Website</a>
          <a href="Commands_all.html">Commands</a>
        
      </li>
    
  </ul>

  
  <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
      
        <a href="Library_add.html" class="btn btn-neutral float-right" title="1.1.10. Extending the C API" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Library_config.html" class="btn btn-neutral float-left" title="1.1.8. Configuration information" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
  </div>
  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="utility-functions">
<h1><span class="section-number">1.1.9. </span>Utility functions<a class="headerlink" href="#utility-functions" title="Permalink to this headline">¶</a></h1>
<p>To simplify some tasks, the library interface contains these utility
functions.  They do not directly call the LAMMPS library.</p>
<ul class="simple">
<li><p><a class="reference internal" href="#_CPPv425lammps_encode_image_flagsiii" title="lammps_encode_image_flags"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">lammps_encode_image_flags()</span></code></a></p></li>
<li><p><a class="reference internal" href="#_CPPv425lammps_decode_image_flagsiPi" title="lammps_decode_image_flags"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">lammps_decode_image_flags()</span></code></a></p></li>
<li><p><a class="reference internal" href="#_CPPv432lammps_set_fix_external_callbackPvPc16FixExternalFnPtrPv" title="lammps_set_fix_external_callback"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">lammps_set_fix_external_callback()</span></code></a></p></li>
<li><p><a class="reference internal" href="#_CPPv437lammps_fix_external_set_energy_globalPvPcd" title="lammps_fix_external_set_energy_global"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">lammps_fix_external_set_energy_global()</span></code></a></p></li>
<li><p><a class="reference internal" href="#_CPPv437lammps_fix_external_set_virial_globalPvPcPd" title="lammps_fix_external_set_virial_global"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">lammps_fix_external_set_virial_global()</span></code></a></p></li>
<li><p><a class="reference internal" href="#_CPPv411lammps_freePv" title="lammps_free"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">lammps_free()</span></code></a></p></li>
<li><p><a class="reference internal" href="#_CPPv417lammps_is_runningPv" title="lammps_is_running"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">lammps_is_running()</span></code></a></p></li>
<li><p><a class="reference internal" href="#_CPPv420lammps_force_timeoutPv" title="lammps_force_timeout"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">lammps_force_timeout()</span></code></a></p></li>
<li><p><a class="reference internal" href="#_CPPv416lammps_has_errorPv" title="lammps_has_error"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">lammps_has_error()</span></code></a></p></li>
<li><p><a class="reference internal" href="#_CPPv429lammps_get_last_error_messagePvPci" title="lammps_get_last_error_message"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">lammps_get_last_error_message()</span></code></a></p></li>
</ul>
<p>The <a class="reference internal" href="#_CPPv411lammps_freePv" title="lammps_free"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">lammps_free()</span></code></a> function is a clean-up function to free
memory that the library had allocated previously via other function
calls.  Look for notes in the descriptions of the individual commands
where such memory buffers were allocated that require the use of
<a class="reference internal" href="#_CPPv411lammps_freePv" title="lammps_free"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">lammps_free()</span></code></a>.</p>
<hr class="docutils" />
<dl class="cpp function">
<dt id="_CPPv425lammps_encode_image_flagsiii">
<span id="_CPPv325lammps_encode_image_flagsiii"></span><span id="_CPPv225lammps_encode_image_flagsiii"></span><span id="lammps_encode_image_flags__i.i.i"></span><span class="target" id="library_8h_1ad12aad3df456f3c85418ff8af6e55e10"></span><span class="pre">int</span> <code class="sig-name descname"><span class="pre">lammps_encode_image_flags</span></code><span class="sig-paren">(</span><span class="pre">int</span> <em><span class="pre">ix</span></em>, <span class="pre">int</span> <em><span class="pre">iy</span></em>, <span class="pre">int</span> <em><span class="pre">iz</span></em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv425lammps_encode_image_flagsiii" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Encode three integer image flags into a single imageint.</p>
<p><p>The prototype for this function when compiling with <code class="docutils literal notranslate"><span class="pre">-DLAMMPS_BIGBIG</span></code>
is:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int64_t</span> <span class="nf">lammps_encode_image_flags</span><span class="p">(</span><span class="kt">int</span> <span class="n">ix</span><span class="p">,</span> <span class="kt">int</span> <span class="n">iy</span><span class="p">,</span> <span class="kt">int</span> <span class="n">iz</span><span class="p">);</span>
</pre></div>
</div>
<p>This function performs the bit-shift, addition, and bit-wise OR
operations necessary to combine the values of three integers
representing the image flags in x-, y-, and z-direction.  Unless
LAMMPS is compiled with -DLAMMPS_BIGBIG, those integers are
limited 10-bit signed integers [-512, 511].  Otherwise the return
type changes from <code class="docutils literal notranslate"><span class="pre">int</span></code> to <code class="docutils literal notranslate"><span class="pre">int64_t</span></code> and the valid range for
the individual image flags becomes [-1048576,1048575],
i.e. that of a 21-bit signed integer.  There is no check on whether
the arguments conform to these requirements.</p>
</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ix</strong> – image flag value in x </p></li>
<li><p><strong>iy</strong> – image flag value in y </p></li>
<li><p><strong>iz</strong> – image flag value in z </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>encoded image flag integer </p>
</dd>
</dl>
</dd></dl>

<hr class="docutils" />
<dl class="cpp function">
<dt id="_CPPv425lammps_decode_image_flagsiPi">
<span id="_CPPv325lammps_decode_image_flagsiPi"></span><span id="_CPPv225lammps_decode_image_flagsiPi"></span><span id="lammps_decode_image_flags__i.iP"></span><span class="target" id="library_8h_1ae774bc2a40ffa11e7a7aecfac7a9c3c6"></span><span class="pre">void</span> <code class="sig-name descname"><span class="pre">lammps_decode_image_flags</span></code><span class="sig-paren">(</span><span class="pre">int</span> <em><span class="pre">image</span></em>, <span class="pre">int</span> <span class="pre">*</span><em><span class="pre">flags</span></em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv425lammps_decode_image_flagsiPi" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Decode a single image flag integer into three regular integers</p>
<p><p>The prototype for this function when compiling with <code class="docutils literal notranslate"><span class="pre">-DLAMMPS_BIGBIG</span></code>
is:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="nf">lammps_decode_image_flags</span><span class="p">(</span><span class="kt">int64_t</span> <span class="n">image</span><span class="p">,</span> <span class="kt">int</span> <span class="o">*</span><span class="n">flags</span><span class="p">);</span>
</pre></div>
</div>
<p>This function does the reverse operation of
<a class="reference internal" href="#_CPPv425lammps_encode_image_flagsiii" title="lammps_encode_image_flags"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">lammps_encode_image_flags()</span></code></a> and takes an image flag integer
does the bit-shift and bit-masking operations to decode it and stores
the resulting three regular integers into the buffer pointed to by
<em>flags</em>.</p>
</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> – encoded image flag integer </p></li>
<li><p><strong>flags</strong> – pointer to storage where the decoded image flags are stored. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<hr class="docutils" />
<dl class="cpp function">
<dt id="_CPPv432lammps_set_fix_external_callbackPvPc16FixExternalFnPtrPv">
<span id="_CPPv332lammps_set_fix_external_callbackPvPc16FixExternalFnPtrPv"></span><span id="_CPPv232lammps_set_fix_external_callbackPvPc16FixExternalFnPtrPv"></span><span id="lammps_set_fix_external_callback__voidP.cP.FixExternalFnPtr.voidP"></span><span class="target" id="library_8h_1a6118af5f0ccb5e16ee090a9bbfae3633"></span><span class="pre">void</span> <code class="sig-name descname"><span class="pre">lammps_set_fix_external_callback</span></code><span class="sig-paren">(</span><span class="pre">void</span><span class="pre">*</span>, <span class="pre">char</span><span class="pre">*</span>, <span class="pre">FixExternalFnPtr</span>, <span class="pre">void</span><span class="pre">*</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv432lammps_set_fix_external_callbackPvPc16FixExternalFnPtrPv" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<hr class="docutils" />
<dl class="cpp function">
<dt id="_CPPv437lammps_fix_external_set_energy_globalPvPcd">
<span id="_CPPv337lammps_fix_external_set_energy_globalPvPcd"></span><span id="_CPPv237lammps_fix_external_set_energy_globalPvPcd"></span><span id="lammps_fix_external_set_energy_global__voidP.cP.double"></span><span class="target" id="library_8h_1a8ab671d3fc2c9e70cde0f52294c6c040"></span><span class="pre">void</span> <code class="sig-name descname"><span class="pre">lammps_fix_external_set_energy_global</span></code><span class="sig-paren">(</span><span class="pre">void</span><span class="pre">*</span>, <span class="pre">char</span><span class="pre">*</span>, <span class="pre">double</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv437lammps_fix_external_set_energy_globalPvPcd" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<hr class="docutils" />
<dl class="cpp function">
<dt id="_CPPv437lammps_fix_external_set_virial_globalPvPcPd">
<span id="_CPPv337lammps_fix_external_set_virial_globalPvPcPd"></span><span id="_CPPv237lammps_fix_external_set_virial_globalPvPcPd"></span><span id="lammps_fix_external_set_virial_global__voidP.cP.doubleP"></span><span class="target" id="library_8h_1a8d64140e88dac282853bbf369c2df78a"></span><span class="pre">void</span> <code class="sig-name descname"><span class="pre">lammps_fix_external_set_virial_global</span></code><span class="sig-paren">(</span><span class="pre">void</span><span class="pre">*</span>, <span class="pre">char</span><span class="pre">*</span>, <span class="pre">double</span><span class="pre">*</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv437lammps_fix_external_set_virial_globalPvPcPd" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<hr class="docutils" />
<dl class="cpp function">
<dt id="_CPPv411lammps_freePv">
<span id="_CPPv311lammps_freePv"></span><span id="_CPPv211lammps_freePv"></span><span id="lammps_free__voidP"></span><span class="target" id="library_8h_1aa521d27718fc92e9a58a255ae9f9cf87"></span><span class="pre">void</span> <code class="sig-name descname"><span class="pre">lammps_free</span></code><span class="sig-paren">(</span><span class="pre">void</span> <span class="pre">*</span><em><span class="pre">ptr</span></em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv411lammps_freePv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Free memory buffer allocated by LAMMPS.</p>
<p>Some of the LAMMPS C library interface functions return data as pointer
to a buffer that has been allocated by LAMMPS or the library interface.
This function can be used to delete those in order to avoid memory
leaks.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ptr</strong> – pointer to data allocated by LAMMPS </p>
</dd>
</dl>
</dd></dl>

<hr class="docutils" />
<dl class="cpp function">
<dt id="_CPPv417lammps_is_runningPv">
<span id="_CPPv317lammps_is_runningPv"></span><span id="_CPPv217lammps_is_runningPv"></span><span id="lammps_is_running__voidP"></span><span class="target" id="library_8h_1a96130bd0ac1fcfbb01f56fe92f8cf7da"></span><span class="pre">int</span> <code class="sig-name descname"><span class="pre">lammps_is_running</span></code><span class="sig-paren">(</span><span class="pre">void</span> <span class="pre">*</span><em><span class="pre">handle</span></em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv417lammps_is_runningPv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Check if LAMMPS is currently inside a run or minimization</p>
<p>This function can be used from signal handlers or multi-threaded applications to determine if the LAMMPS instance is currently active.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>handle</strong> – pointer to a previously created LAMMPS instance cast to <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">*</span></code>. </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>0 if idle or &gt;0 if active </p>
</dd>
</dl>
</dd></dl>

<hr class="docutils" />
<dl class="cpp function">
<dt id="_CPPv420lammps_force_timeoutPv">
<span id="_CPPv320lammps_force_timeoutPv"></span><span id="_CPPv220lammps_force_timeoutPv"></span><span id="lammps_force_timeout__voidP"></span><span class="target" id="library_8h_1a298dbff8f43185d82bcbf0a8d76b9aa9"></span><span class="pre">void</span> <code class="sig-name descname"><span class="pre">lammps_force_timeout</span></code><span class="sig-paren">(</span><span class="pre">void</span> <span class="pre">*</span><em><span class="pre">handle</span></em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv420lammps_force_timeoutPv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Force a timeout to cleanly stop an ongoing run</p>
<p>This function can be used from signal handlers or multi-threaded applications to cleanly terminate an ongoing run.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>handle</strong> – pointer to a previously created LAMMPS instance cast to <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">*</span></code> </p>
</dd>
</dl>
</dd></dl>

<hr class="docutils" />
<dl class="cpp function">
<dt id="_CPPv416lammps_has_errorPv">
<span id="_CPPv316lammps_has_errorPv"></span><span id="_CPPv216lammps_has_errorPv"></span><span id="lammps_has_error__voidP"></span><span class="target" id="library_8h_1a6f2f23eeafb8d56983ef90ad55e0c37d"></span><span class="pre">int</span> <code class="sig-name descname"><span class="pre">lammps_has_error</span></code><span class="sig-paren">(</span><span class="pre">void</span> <span class="pre">*</span><em><span class="pre">handle</span></em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv416lammps_has_errorPv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Check if there is a (new) error message available</p>
<p>This function can be used to query if an error inside of LAMMPS
has thrown a <a class="reference internal" href="Build_settings.html#exceptions"><span class="std std-ref">C++ exception</span></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function will always report “no error” when the LAMMPS library
has been compiled without <code class="docutils literal notranslate"><span class="pre">-DLAMMPS_EXCEPTIONS</span></code> which turns fatal
errors aborting LAMMPS into a C++ exceptions. You can use the library
function <a class="reference internal" href="Library_config.html#_CPPv428lammps_config_has_exceptionsv" title="lammps_config_has_exceptions"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">lammps_config_has_exceptions()</span></code></a> to check if this is
the case.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>handle</strong> – pointer to a previously created LAMMPS instance cast to <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">*</span></code>. </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>0 on no error, 1 on error. </p>
</dd>
</dl>
</dd></dl>

<hr class="docutils" />
<dl class="cpp function">
<dt id="_CPPv429lammps_get_last_error_messagePvPci">
<span id="_CPPv329lammps_get_last_error_messagePvPci"></span><span id="_CPPv229lammps_get_last_error_messagePvPci"></span><span id="lammps_get_last_error_message__voidP.cP.i"></span><span class="target" id="library_8h_1a1900bdb6311f7f9649b5c82e20257cff"></span><span class="pre">int</span> <code class="sig-name descname"><span class="pre">lammps_get_last_error_message</span></code><span class="sig-paren">(</span><span class="pre">void</span> <span class="pre">*</span><em><span class="pre">handle</span></em>, <span class="pre">char</span> <span class="pre">*</span><em><span class="pre">buffer</span></em>, <span class="pre">int</span> <em><span class="pre">buf_size</span></em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv429lammps_get_last_error_messagePvPci" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Copy the last error message into the provided buffer</p>
<p>This function can be used to retrieve the error message that was set
in the event of an error inside of LAMMPS which resulted in a
<a class="reference internal" href="Build_settings.html#exceptions"><span class="std std-ref">C++ exception</span></a>.  A suitable buffer for a C-style
string has to be provided and its length.  If the internally stored
error message is longer, it will be truncated accordingly.  The return
value of the function corresponds to the kind of error: a “1” indicates
an error that occurred on all MPI ranks and is often recoverable, while
a “2” indicates an abort that would happen only in a single MPI rank
and thus may not be recoverable as other MPI ranks may be waiting on
the failing MPI ranks to send messages.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function will do nothing when the LAMMPS library has been
compiled without <code class="docutils literal notranslate"><span class="pre">-DLAMMPS_EXCEPTIONS</span></code> which turns errors aborting
LAMMPS into a C++ exceptions.  You can use the library function
<a class="reference internal" href="Library_config.html#_CPPv428lammps_config_has_exceptionsv" title="lammps_config_has_exceptions"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">lammps_config_has_exceptions()</span></code></a> to check if this is the case.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>handle</strong> – pointer to a previously created LAMMPS instance cast to <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">*</span></code>. </p></li>
<li><p><strong>buffer</strong> – string buffer to copy the error message to </p></li>
<li><p><strong>buf_size</strong> – size of the provided string buffer </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>1 when all ranks had the error, 2 on a single rank error. </p>
</dd>
</dl>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Library_add.html" class="btn btn-neutral float-right" title="1.1.10. Extending the C API" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Library_config.html" class="btn btn-neutral float-left" title="1.1.8. Configuration information" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2003-2020 Sandia Corporation

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script>

  
  
    
   

</body>
</html>